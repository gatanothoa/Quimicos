<!doctype html>
<html lang='es'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <title>Catálogo General</title>
  <link rel='stylesheet' href='css/styles.css'>
  <style>
    .empresa-block {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(26,35,126,0.13), 0 1.5px 0 #ff704344;
      border: 2.5px solid var(--primary);
      margin-bottom: 38px;
      padding: 28px 18px 22px 18px;
      transition: box-shadow .18s, border .18s;
      position: relative;
    }
    .empresa-block:hover {
      box-shadow: 0 12px 40px #1a237e22, 0 2px 0 #ff704344;
      border-color: var(--accent);
    }
    .empresa-header {
      display: flex;
      align-items: center;
      gap: 22px;
      margin-bottom: 16px;
      border-bottom: 1.5px solid #e3eafc;
      padding-bottom: 10px;
      background: linear-gradient(90deg,#e3eafc33 60%,#ff704311 100%);
      border-radius: 12px 12px 0 0;
    }
    .empresa-header img {
      height: 70px;
      background: #fff;
      border-radius: 10px;
      padding: 8px;
      border: 1.5px solid #e3eafc;
      box-shadow: 0 2px 8px #e3eafc55;
    }
    .empresa-header h2 {
      color: var(--primary);
      margin: 0;
      font-size: 2rem;
      font-weight: 800;
      letter-spacing: -1px;
      text-shadow: 0 2px 8px #e3eafc77;
    }
  </style>
</head>
<body>
<header class="header container">
  <div class="brand">
    <img src="assets/imgs/logo-vemer.png" alt="Grupo Vemer" style="height:72px;max-width:180px;width:auto;">
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:340px;max-width:600px;margin-left:18px;">
      <div style="font-weight:900;color:var(--primary);font-size:1.7rem;line-height:1.1;letter-spacing:-1px;text-align:center;">Grupo Vemer</div>
      <div style="font-size:1.08rem;color:var(--muted);font-weight:500;text-align:center;max-width:520px;">Soluciones integrales en insumos, reactivos y equipos para laboratorio.</div>
    </div>
  </div>
  <div style="width:100%;display:flex;justify-content:center;margin-top:8px;">
    <nav class="nav">
      <a href="index.html">Inicio</a>
      <a href="categorias/reactivos.html">Reactivos</a>
      <a href="categorias/vidrieria.html">Vidriería</a>
      <a href="contacto.html">Contacto</a>
    </nav>
  </div>
</header>
<main class='container' style='padding-top:8px'>
  <section class="hero" aria-label="Catálogo General">
    <div class="hero-inner">
      <h1>Catálogo General</h1>
      <p>Todos los productos de reactivos y vidriería agrupados por empresa/marca.</p>
      <div id="catalogo-empresas"></div>
    </div>
  </section>
</main>
<footer class="footer container">
  <div style="display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px">
    <div>
      <strong>Grupo Vemer</strong>
    </div>
    <div style="text-align:right;color:var(--muted)"></div>
  </div>
  <div style="margin-top:12px;font-size:12px;color:var(--muted)">© Grupo Vemer</div>
</footer>
<script>
(async function(){
  
  const urls = [
    'categorias/reactivos.html',
    'categorias/vidrieria.html'
  ];
  let productos = [];
  for(const url of urls) {
    try {
      const res = await fetch(url);
      const html = await res.text();
      const temp = document.createElement('div');
      temp.innerHTML = html;
      temp.querySelectorAll('.product').forEach(prod => {
        const img = prod.querySelector('img');
        const marcaLogo = img?.getAttribute('src') || '';
        const marca = img?.alt?.trim() || 'Sin marca';
        const nombre = prod.querySelector('.product-title')?.textContent?.trim() || '';
        const desc = prod.querySelector('.product-desc')?.textContent?.trim() || '';
        productos.push({marca, marcaLogo, nombre, desc});
      });
    } catch(e) {}
  }
  
  const empresas = {};
  productos.forEach(p => {
    if(!empresas[p.marca]) empresas[p.marca] = {logo: p.marcaLogo, productos: []};
    empresas[p.marca].productos.push(p);
  });
  
  const cont = document.getElementById('catalogo-empresas');
  cont.innerHTML = Object.keys(empresas).sort().map(marca => `
    <section class="empresa-block">
      <div class="empresa-header">
        <img src="${empresas[marca].logo}" alt="${marca}">
        <h2>${marca}</h2>
      </div>
      <div class="product-grid">
        ${empresas[marca].productos.map(prod => `
          <article class="product">
            <div>
              <div class="product-title">${prod.nombre}</div>
              <div class="product-desc">${prod.desc}</div>
            </div>
          </article>
        `).join('')}
      </div>
    </section>
  `).join('');
})();
</script>
</body>
</html>
